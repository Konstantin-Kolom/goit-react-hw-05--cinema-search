(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{23:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(15),r=c.n(i),s=c(5),j=(c(23),c(24),c(2)),o=c(8),b=c.n(o),u=c(0),l=function(){return Object(u.jsxs)("nav",{children:[Object(u.jsx)(s.c,{exact:!0,to:"/",className:b.a.navLink,activeClassName:b.a.navLinkActive,children:"Home"}),Object(u.jsx)(s.c,{to:"/movies",className:b.a.navLink,activeClassName:b.a.navLinkActive,children:"Movies"})]})},h=c(6),O=c(13),d=c.n(O),v=c(18),x="1cecc067256bce66d88819c359ab872b",p="https://api.themoviedb.org/3/";function f(){return m.apply(this,arguments)}function m(){return m=Object(v.a)(d.a.mark((function e(){var t,c,n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",c=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function g(e){var t=e.list,c=Object(j.g)();return Object(u.jsx)(u.Fragment,{children:t.map((function(e){var t=e.id,n=e.name,a=e.title;return Object(u.jsx)("li",{id:t,children:Object(u.jsxs)(s.b,{to:{pathname:"/movies/".concat(t),state:{from:c}},children:[n,a]})},t)}))})}function k(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){f("".concat(p,"trending/all/day?api_key=").concat(x)).then((function(e){var t=e.results;a(t)}))}),[]),c.length>0?Object(u.jsx)("ul",{children:Object(u.jsx)(g,{list:c})}):0===c.length?Object(u.jsx)("h1",{children:"Loading"}):void 0}var y=c(14);function w(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(h.a)(i,2),s=r[0],o=r[1],b=Object(j.g)(),l=Object(j.f)(),O=b.search,d=new URLSearchParams(O).get("query");return Object(n.useEffect)((function(){var e;null!==d&&(e=d,f("".concat(p,"search/movie?api_key=").concat(x,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))).then((function(e){var t=e.results;o(t)}))}),[d]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(l.push(Object(y.a)(Object(y.a)({},b),{},{search:"query=".concat(c)})),a("")):alert("Please, enter movie title.")},children:[Object(u.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search muvie",value:c,onChange:function(e){var t=e.currentTarget.value;a(t)}}),Object(u.jsx)("button",{type:"submit",children:Object(u.jsx)("span",{children:"Search"})})]}),""!==s&&Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["The result of a list of films by title: ",Object(u.jsxs)("span",{children:[" ",d]})]}),Object(u.jsx)("ul",{children:Object(u.jsx)(g,{list:s})})]})]})}function S(){return Object(u.jsx)("h1",{children:"404 Page not fond :( "})}function _(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(j.h)().muvieid;return Object(n.useEffect)((function(){(function(e){return f("".concat(p,"movie/").concat(e,"/credits?api_key=").concat(x,"&language=en-US"))})(i).then((function(e){var t=e.cast;a(t)}))}),[i]),Object(u.jsx)(u.Fragment,{children:c.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:"poster"}),Object(u.jsx)("h3",{children:e.name}),Object(u.jsxs)("p",{children:["Character: ",e.character]})]},e.id)}))})}function L(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(j.h)().muvieid;return Object(n.useEffect)((function(){(function(e){return f("".concat(p,"movie/").concat(e,"/reviews?api_key=").concat(x,"&language=en-US&page=1"))})(i).then((function(e){var t=e.results;a(t)}))}),[i]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{children:c.map((function(e){return Object(u.jsxs)("li",{children:[Object(u.jsxs)("p",{children:["Author: ",e.author]}),Object(u.jsx)("p",{children:e.content})]},e.id)}))})})}function N(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),r=Object(h.a)(i,2),o=r[0],b=r[1],l=Object(j.i)(),O=l.url,d=l.path,v=Object(j.h)().muvieid,m=Object(j.g)(),g=Object(j.f)();function k(){g.push(m.state.from)}Object(n.useEffect)((function(){var e;(e=v,f("".concat(p,"movie/").concat(e,"?api_key=").concat(x,"&language=en-US"))).then((function(e){a(e)})).catch((function(){return b(!0)}))}),[v]);var y=c.name,w=c.title,N=c.poster_path,C=c.vote_average,A=c.overview,E=c.genres;return""!==c?Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{type:"button",onClick:k,children:"Go back"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(N),alt:"poster",loading:"lazy"}),Object(u.jsxs)("h2",{className:"title",children:[y,w]}),Object(u.jsxs)("p",{children:["User score: ",10*C,"%"]}),Object(u.jsxs)("p",{children:["Overview: ",A]}),Object(u.jsxs)("p",{children:["Genres:",E.map((function(e){return Object(u.jsx)("span",{children:e.name},e.id)}))]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"Additional information"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(s.c,{to:"".concat(O,"/cast"),children:"Cast"}),Object(u.jsx)(s.c,{to:"".concat(O,"/reviews"),children:"Reviews"}),Object(u.jsx)(j.a,{path:"".concat(d,"/cast"),children:Object(u.jsx)(_,{})}),Object(u.jsx)(j.a,{path:"".concat(d,"/reviews"),children:Object(u.jsx)(L,{})})]})]})]})]}):""===c&&!1===o?Object(u.jsx)("h1",{children:"Loading"}):""===c&&!0===o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",onClick:k,children:"Go back"}),Object(u.jsx)(S,{})]}):void 0}var C=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)(l,{})}),Object(u.jsx)("main",{children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{path:"/",exact:!0,children:Object(u.jsx)(k,{})}),Object(u.jsx)(j.a,{path:"/movies/:muvieid",children:Object(u.jsx)(N,{})}),Object(u.jsx)(j.a,{path:"/movies",children:Object(u.jsx)(w,{})}),Object(u.jsx)(j.a,{children:Object(u.jsx)(k,{})})]})})]})};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(C,{})})}),document.getElementById("root"))},8:function(e,t,c){e.exports={navLink:"Novigation_navLink__3XWBP",navLinkActive:"Novigation_navLinkActive__2cOhi"}}},[[35,1,2]]]);
//# sourceMappingURL=main.7086cb4d.chunk.js.map