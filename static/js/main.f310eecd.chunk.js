(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{10:function(e,t,c){e.exports={searchForm:"MoviesPage_searchForm__2KS2M",input:"MoviesPage_input__IlWcT",button:"MoviesPage_button__1CmeC",searcText:"MoviesPage_searcText__3g_cd"}},16:function(e,t,c){e.exports={item:"ListMovies_item__3Jrn9",link:"ListMovies_link__M5RUv"}},22:function(e,t,c){e.exports={list:"HomePage_list__3SXJt"}},23:function(e,t,c){e.exports={continer:"App_continer__3ofjR"}},28:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(18),s=c.n(i),r=c(6),o=(c(28),c(29),c(2)),j=c(8),l=c.n(j),b=c(0),h=function(){return Object(b.jsxs)("nav",{className:l.a.navBox,children:[Object(b.jsx)(r.c,{exact:!0,to:"/",className:l.a.navLink,activeClassName:l.a.navLinkActive,children:"Home"}),Object(b.jsx)(r.c,{to:"/movies",className:l.a.navLink,activeClassName:l.a.navLinkActive,children:"Movies"})]})},u=c(4),v=c(15),d=c.n(v),O=c(21),m="1cecc067256bce66d88819c359ab872b",x="https://api.themoviedb.org/3/";function f(){return p.apply(this,arguments)}function p(){return p=Object(O.a)(d.a.mark((function e(){var t,c,n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",c=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,c);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}var g=c(16),_=c.n(g);function k(e){var t=e.list,c=Object(o.g)();return Object(b.jsx)(b.Fragment,{children:t.map((function(e){var t=e.id,n=e.name,a=e.title;return Object(b.jsx)("li",{id:t,className:_.a.item,children:Object(b.jsxs)(r.b,{to:{pathname:"/movies/".concat(t),state:{from:c}},className:_.a.link,children:[n,a]})},t)}))})}var N=c(22),y=c.n(N);function S(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){f("".concat(x,"trending/all/day?api_key=").concat(m)).then((function(e){var t=e.results;a(t)}))}),[]),c.length>0?Object(b.jsx)("ul",{className:y.a.list,children:Object(b.jsx)(k,{list:c})}):0===c.length?Object(b.jsx)("h1",{children:"Loading"}):void 0}var w=c(17),C=c(10),M=c.n(C);function P(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),r=s[0],j=s[1],l=Object(o.g)(),h=Object(o.f)(),v=l.search,d=new URLSearchParams(v).get("query");return Object(n.useEffect)((function(){var e;null!==d&&(e=d,f("".concat(x,"search/movie?api_key=").concat(m,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))).then((function(e){var t=e.results;j(t)}))}),[d]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(h.push(Object(w.a)(Object(w.a)({},l),{},{search:"query=".concat(c)})),a("")):alert("Please, enter movie title.")},className:M.a.searchForm,children:[Object(b.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search muvie",value:c,onChange:function(e){var t=e.currentTarget.value;a(t)},className:M.a.input}),Object(b.jsx)("button",{type:"submit",className:M.a.button,children:Object(b.jsx)("span",{children:"Search"})})]}),""!==r&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["The result of a list of films by title:"," ",Object(b.jsxs)("span",{className:M.a.searcText,children:[' "',d,'"']})]}),Object(b.jsx)("ul",{children:Object(b.jsx)(k,{list:r})})]})]})}function L(){return Object(b.jsx)("h1",{children:"Sorry, we have no information about this movie :( "})}function A(){var e=Object(o.h)().muvieid,t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],i=c[1];return Object(n.useEffect)((function(){(function(e){return f("".concat(x,"movie/").concat(e,"/credits?api_key=").concat(m,"&language=en-US"))})(e).then((function(e){var t=e.cast;i(t)}))}),[e]),Object(b.jsxs)(b.Fragment,{children:[a.map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:"poster"}),Object(b.jsx)("h3",{children:e.name}),Object(b.jsxs)("p",{children:["Character: ",e.character]})]},e.id)})),0===a.length&&Object(b.jsx)("h2",{children:"Sorry. We have no information about the actors for this movie "})]})}function F(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(o.h)().muvieid,s=Object(n.useState)(!1),r=Object(u.a)(s,2);r[0],r[1];return Object(n.useEffect)((function(){(function(e){return f("".concat(x,"movie/").concat(e,"/reviews?api_key=").concat(m,"&language=en-US&page=1"))})(i).then((function(e){var t=e.results;a(t)}))}),[i]),Object(b.jsxs)(b.Fragment,{children:[c.length>0&&Object(b.jsx)("ul",{children:c.map((function(e){return Object(b.jsxs)("li",{children:[Object(b.jsxs)("p",{children:["Author: ",e.author]}),Object(b.jsx)("p",{children:e.content})]},e.id)}))}),0===c.length&&Object(b.jsx)("h2",{children:"Sorry. We don't heve any reviews for this movie "})]})}var E=c(7),U=c.n(E);function D(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),j=s[0],l=s[1],h=Object(o.i)(),v=h.url,d=h.path,O=Object(o.h)().muvieid,p=Object(o.g)(),g=Object(o.f)();function _(){var e;g.push((null===(e=p.state)||void 0===e?void 0:e.from)?p.state.from:"/")}Object(n.useEffect)((function(){var e;(e=O,f("".concat(x,"movie/").concat(e,"?api_key=").concat(m,"&language=en-US"))).then((function(e){a(e)})).catch((function(){return l(!0)}))}),[O]);var k=c.name,N=c.title,y=c.poster_path,S=c.vote_average,w=c.overview,C=c.genres;return""!==c?Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{type:"button",onClick:_,className:U.a.button,children:"Go back"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:U.a.boxCard,children:[Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(y),alt:"poster",loading:"lazy",className:U.a.img}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("h2",{className:"title",children:[k,N]}),Object(b.jsxs)("p",{children:["User score: ",10*S,"%"]}),Object(b.jsx)("h3",{children:"Overview:"})," ",Object(b.jsx)("p",{children:w}),Object(b.jsx)("h4",{children:"Genres: "}),Object(b.jsx)("p",{children:C.map((function(e){return Object(b.jsx)("span",{children:e.name},e.id)}))})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Additional information"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:{pathname:"".concat(v,"/cast"),state:{from:p.state.from}},className:U.a.link,activeClassName:U.a.linkActive,children:"Cast"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.c,{to:{pathname:"".concat(v,"/reviews"),state:{from:p.state.from}},className:U.a.link,activeClassName:U.a.linkActive,children:"Reviews"})}),Object(b.jsx)(o.a,{path:"".concat(d,"/cast"),children:Object(b.jsx)(A,{})}),Object(b.jsx)(o.a,{path:"".concat(d,"/reviews"),children:Object(b.jsx)(F,{})})]})]})]})]}):""===c&&!1===j?Object(b.jsx)("h1",{children:"Loading... Please waite "}):""===c&&!0===j?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{type:"button",onClick:_,className:U.a.button,children:"Go back"}),Object(b.jsx)(L,{})]}):void 0}var T=c(23),B=c.n(T);var J=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(h,{})}),Object(b.jsx)("main",{className:B.a.continer,children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(S,{})}),Object(b.jsx)(o.a,{path:"/movies/:muvieid",children:Object(b.jsx)(D,{})}),Object(b.jsx)(o.a,{path:"/movies",children:Object(b.jsx)(P,{})}),Object(b.jsx)(o.a,{children:Object(b.jsx)(S,{})})]})})]})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(r.a,{children:Object(b.jsx)(J,{})})}),document.getElementById("root"))},7:function(e,t,c){e.exports={button:"MovieDetailsPage_button__19PXw",boxCard:"MovieDetailsPage_boxCard__17EwE",img:"MovieDetailsPage_img__3ugFU",link:"MovieDetailsPage_link__1vdbg",linkActive:"MovieDetailsPage_linkActive__iMSg7"}},8:function(e,t,c){e.exports={navLink:"Novigation_navLink__3XWBP",navLinkActive:"Novigation_navLinkActive__2cOhi",navBox:"Novigation_navBox__JpytC"}}},[[40,1,2]]]);
//# sourceMappingURL=main.f310eecd.chunk.js.map